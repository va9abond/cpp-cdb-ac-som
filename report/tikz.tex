% ---------------------------------------------------------
\documentclass{article}
% ---------------------------------------------------------
\input{preamble}
\input{graphs}
\input{macros}
\input{letterfonts}
% ---------------------------------------------------------
\begin{document}


\begin{center}
    \begin{tikzpicture}
        \draw [help lines] (-8,-15) grid (8,8);
        \draw[fill=black, opacity=.5] (0, 0) circle(2pt)
        node [above] {(0,0)};
        \foreach \t in {2, 4, 6, 8}
        {
        \draw[fill=black, opacity=0.5] (\t, \t) circle (2pt)
        node [above] {(\t,\t)};
        \draw[fill=black, opacity=0.5] (-\t, \t) circle (2pt)
        node [above] {(-\t,\t)};
        \draw[fill=black, opacity=0.5] (\t, -\t) circle (2pt)
        node [above] {(\t,-\t)};
        \draw[fill=black, opacity=0.5] (-\t, -\t) circle (2pt)
        node [above] {(-\t,-\t)};
        }
        \foreach \u in {2, 4, 6, 8}
        {
        \draw[fill=black, opacity=0.5] (0, \u) circle (2pt)
        node [above] {(0,\u)};
        \draw[fill=black, opacity=0.5] (0, -\u) circle (2pt)
        node [above] {(0,-\u)};
        \draw[fill=black, opacity=0.5] (\u, 0) circle (2pt)
        node [above] {(\u,0)};
        \draw[fill=black, opacity=0.5] (-\u, 0) circle (2pt)
        node [above] {(-\u,0)};
        }

    \tikzstyle{vertex}=[auto=left,circle,fill=orange!25,opacity=.8,
        draw=orange,minimum size=20pt,inner sep=0pt]

        \draw[fill=white, draw=black, dashed]
        (-3,1) -- (-2,4) -- (2.5, 4) -- (1.5, 1) -- cycle;

        \foreach \u in {0, 1, 2, 3}
        {
            \node[ellipse,
                draw=black,
                fill=gray!20,
                minimum width = 5mm,
                minimum height = 2mm]
            (e12\u) at (-2+1/3+\u*1.15, 3.5) {};

            \node[ellipse,
                draw=black,
                fill=gray!20,
                minimum width = 5mm,
                minimum height = 2mm]
            (e11\u) at (-2+\u*1.15,2.5) {};

            \node[ellipse,
                draw=black,
                fill=gray!20,
                minimum width = 5mm,
                minimum height = 2mm]
            (e10\u) at (-2-1/3+\u*1.15,1.5) {};
        }

        \node[ellipse,
            draw=Orange,
            fill=orange!50,
            minimum width = 5mm,
            minimum height = 2mm]
        (ew) at (-2+1.15,2.5) {};

        \node[ellipse,
            draw=Green,
            fill=green!50,
            minimum width = 5mm,
            minimum height = 2mm]
        (ea) at (-0.5,-1) {};

        \foreach \u in {0,1,2,3} {
            \foreach \v in {0,1,2}
            {
                \draw[-] (ea) -- (e1\v\u) {};
            }
        }

        \draw[thick, decorate, decoration={calligraphic brace}]
        (-3.5,1) -- (-3.5,4);

        \node[text width = 4cm, align=center] at (-5.3,2.5)
        {Постсинаптические нейроны};

        \node[text width = 3cm, align=center] at (-0.4,-1.7)
        {Входной сигнал};

        \node[text width=2.5cm, align=center] at (1.3,0)
        {Пучок нейронов};



    \end{tikzpicture}
\end{center}







\end{document}
